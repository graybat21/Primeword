<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.prime.mappers.studyMapper">

	<select id="wordList" parameterType="Study" resultType="Study">
		select no, word, meaning from WORDTEST
		where GRADE = #{grade} and TEXTBOOK = #{textbook} and LESSON = #{lesson}
	</select>

	<select id="howManyLesson" parameterType="Study" resultType="int">
		select max(lesson) from WORDTEST
    	where grade = #{grade} and TEXTBOOK = #{textbook}
	</select>

	<select id="textbookListByGrade" parameterType="String" resultType="String">
		select distinct textbook from WORDTEST 
		where grade = #{grade}
	</select>
	
	<select id="wordsList" parameterType="hashmap" resultType="Study">
		select *
			from
				(SELECT (@row_number:=@row_number+1) as row_number,
						word, meaning, grade, textbook, lesson 
					from WORDTEST, (SELECT @row_number:=0) as t
       				where grade = #{grade} and textbook = #{textbook} and lesson = #{lesson}
				) X 
			where X.row_number between #{first} and #{last};
	</select>
</mapper>


